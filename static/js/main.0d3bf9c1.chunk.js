(this["webpackJsonpreact-firebase-auth"]=this["webpackJsonpreact-firebase-auth"]||[]).push([[0],{545:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(34),o=n.n(a),s=n(50),i=n(39),l=n(21),j=n(11),u=n(217),b=n(54),d=Object(u.a)({apiKey:"AIzaSyDuC12_fs5zD5b-ltyD_9j0Jn49b9s9DMI",authDomain:"react-firebase-auth-6fbdf.firebaseapp.com",projectId:"react-firebase-auth-6fbdf",storageBucket:"react-firebase-auth-6fbdf.appspot.com",messagingSenderId:"516375964100",appId:"1:516375964100:web:daac813214c1337a87dc91"}),h=Object(b.d)(d),O=n(6),x=Object(r.createContext)({currentUser:null,register:function(){return Promise},login:function(){return Promise},logout:function(){return Promise},signInWithGoogle:function(){return Promise},forgotPassword:function(){return Promise},resetPassword:function(){return Promise}}),g=function(){return Object(r.useContext)(x)};function m(e){var t=e.children,n=Object(r.useState)(null),c=Object(j.a)(n,2),a=c[0],o=c[1];Object(r.useEffect)((function(){var e=Object(b.e)(h,(function(e){o(e)}));return function(){e()}}),[]);var s={currentUser:a,register:function(e,t){return Object(b.c)(h,e,t)},login:function(e,t){return Object(b.g)(h,e,t)},logout:function(){return Object(b.i)(h)},signInWithGoogle:function(){var e=new b.a;return Object(b.h)(h,e)},forgotPassword:function(e){return Object(b.f)(h,e,{url:"http://localhost:3000/login"})},resetPassword:function(e,t){return Object(b.b)(h,e,t)}};return Object(O.jsx)(x.Provider,{value:s,children:t})}var f=n(1),p=n.n(f),v=n(5),w=n(576),y=n(567),S=n(30),C=n(578),k=n(104),P=n(569),z=n(579),W=n(226),R=n(570),I=n(560),A=n(228),D=function(e){return Object(O.jsx)(I.a,Object(s.a)({bg:Object(A.d)("white","gray.700"),py:"8",px:{base:"4",md:"10"},shadow:"base",rounded:{sm:"lg"}},e))},L=n(128),U=n(561),E=n(562),F=n(563),M=["children"];function q(e){var t=e.children,n=Object(L.a)(e,M);return Object(O.jsxs)(U.a,Object(s.a)(Object(s.a)({align:"center",color:"gray.300"},n),{},{children:[Object(O.jsx)(I.a,{flex:"1",children:Object(O.jsx)(E.a,{borderColor:"currentcolor"})}),Object(O.jsx)(F.a,{as:"span",px:"3",color:Object(A.d)("gray.600","gray.400"),fontWeight:"medium",children:t}),Object(O.jsx)(I.a,{flex:"1",children:Object(O.jsx)(E.a,{borderColor:"currentcolor"})})]}))}var G=n(566),B=n(564),J=n(565),N=n(80),T=["to","name"];function H(e){var t=e.to,n=e.name,r=Object(L.a)(e,T),c=Object(l.h)().pathname===t;return Object(O.jsx)(i.c,{to:t,children:Object(O.jsx)(W.a,Object(s.a)(Object(s.a)({as:"a",variant:c?"outline":"ghost",colorScheme:c?"primary":"gray"},r),{},{children:n}))})}function _(){var e=Object(A.c)().toggleColorMode,t=g(),n=t.logout,r=t.currentUser;return Object(O.jsx)(I.a,{borderBottom:"2px",borderBottomColor:Object(A.d)("gray.100","gray.700"),mb:4,children:Object(O.jsxs)(C.a,{py:4,justifyContent:"flex-end",maxW:"container.lg",mx:"auto",children:[Object(O.jsx)(H,{to:"/",name:"Firbase Authentication",size:"lg"}),Object(O.jsx)(B.a,{}),!r&&Object(O.jsx)(H,{to:"/login",name:"Login"}),!r&&Object(O.jsx)(H,{to:"/register",name:"Register"}),r&&Object(O.jsx)(H,{to:"/profile",name:"Profile"}),r&&Object(O.jsx)(H,{to:"/protected-page",name:"Protected"}),r&&Object(O.jsx)(H,{to:"/logout",name:"Logout",onClick:function(){var e=Object(v.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(O.jsx)(J.a,{variant:"outline",icon:Object(A.d)(Object(O.jsx)(N.c,{}),Object(O.jsx)(N.b,{})),onClick:e,"aria-label":"toggle-dark-mode"})]})})}function K(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(_,{}),Object(O.jsx)(G.a,{maxW:"container.lg",children:e.children})]})}function X(){var e=Object(l.g)(),t=g().forgotPassword,n=Object(w.a)(),c=Object(r.useState)(""),a=Object(j.a)(c,2),o=a[0],s=a[1];return Object(O.jsxs)(K,{children:[Object(O.jsx)(y.a,{textAlign:"center",my:12,children:"Forgot password"}),Object(O.jsxs)(D,{maxW:"md",mx:"auto",mt:4,children:[Object(O.jsx)(S.a.form,{onSubmit:function(){var e=Object(v.a)(p.a.mark((function e(r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,t(o);case 4:n({description:"An email is sent to ".concat(o," for password reset instructions."),status:"success",duration:5e3,isClosable:!0}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.message),n({description:e.t0.message,status:"error",duration:5e3,isClosable:!0});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),children:Object(O.jsxs)(C.b,{spacing:"6",children:[Object(O.jsxs)(k.a,{id:"email",children:[Object(O.jsx)(P.a,{children:"Email address"}),Object(O.jsx)(z.a,{name:"email",type:"email",autoComplete:"email",required:!0,value:o,onChange:function(e){return s(e.target.value)}})]}),Object(O.jsx)(W.a,{type:"submit",colorScheme:"pink",size:"lg",fontSize:"md",children:"Submit"})]})}),Object(O.jsx)(q,{my:6,children:"OR"}),Object(O.jsx)(R.a,{children:Object(O.jsx)(W.a,{variant:"link",onClick:function(){return e.push("/login")},children:"Login"})})]})]})}var Q=n(571),V=n(572),Y=n(573);function Z(){var e=g().currentUser;return Object(O.jsxs)(K,{children:[Object(O.jsx)(y.a,{children:"Home page"}),Object(O.jsx)(F.a,{my:6,children:"The current user is: ".concat(e)}),Object(O.jsxs)(y.a,{children:["Firebase Authentication",Object(O.jsx)(S.a.span,{fontWeight:"black",fontStyle:"italic",fontSize:"9xl",mx:2,children:"v9"}),Object(O.jsx)(Q.a,{fontWeight:"black",fontSize:"4xl",mx:2,px:2,colorScheme:"green",children:"NEW API"})]}),Object(O.jsxs)(V.c,{fontSize:"3xl",my:4,children:[Object(O.jsx)(V.b,{children:"Email password authentication (Register/Login)"}),Object(O.jsx)(V.b,{children:"Google Sign in"}),Object(O.jsx)(V.b,{children:"Forgot Password"}),Object(O.jsx)(V.b,{children:"Custom Reset password page"}),Object(O.jsx)(V.b,{children:"Protected routes"}),Object(O.jsxs)(V.b,{children:[Object(O.jsx)(Y.a,{fontSize:"inherit",children:" Redirect TO"})," or Back (keeping the state)"]}),Object(O.jsxs)(V.b,{children:["custom Auth Hook ",Object(O.jsx)(Y.a,{fontSize:"3xl",children:"useAuth()"})]}),Object(O.jsx)(V.b,{children:"Loading indicators while sign-in/up"}),Object(O.jsxs)(V.b,{children:["Dark Mode enabled template using",Object(O.jsx)(Q.a,{fontSize:"inherit",colorScheme:"teal",mx:2,textTransform:"capitalize",borderRadius:"md",children:"Chakra UI"})]})]}),Object(O.jsx)(y.a,{size:"md",mt:20,children:"Some other links (only for reference):"}),Object(O.jsxs)(V.a,{children:[Object(O.jsx)(V.b,{children:Object(O.jsx)(i.b,{to:"/reset-password",children:"reset page"})}),Object(O.jsx)(V.b,{children:Object(O.jsx)(i.b,{to:"/forgot-password",children:"forgot page"})})]})]})}n(245);function $(){var e=Object(r.useRef)(!1);return Object(r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}function ee(){var e=Object(l.g)(),t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],a=n[1],o=Object(r.useState)(""),s=Object(j.a)(o,2),u=s[0],b=s[1],d=Object(r.useState)(!1),h=Object(j.a)(d,2),x=h[0],m=h[1],f=Object(w.a)(),R=g(),I=R.login,A=R.signInWithGoogle,L=$();return Object(O.jsxs)(K,{children:[Object(O.jsx)(y.a,{textAlign:"center",my:12,children:"Login"}),Object(O.jsxs)(D,{maxW:"md",mx:"auto",mt:4,children:[Object(O.jsx)(S.a.form,{onSubmit:function(){var t=Object(v.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),c&&u||f({description:"Credentails not valid",status:"error",duration:5e3,isClosable:!0}),m(!0),I(c,u).then((function(t){console.log(t),e.push("/profile")})).catch((function(e){console.log(e.message),f({description:e.message,status:"error",duration:5e3,isClosable:!0})})).finally((function(){L.current&&m(!1)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Object(O.jsxs)(C.b,{spacing:"6",children:[Object(O.jsxs)(k.a,{id:"email",children:[Object(O.jsx)(P.a,{children:"Email address"}),Object(O.jsx)(z.a,{name:"email",type:"email",autoComplete:"email",required:!0,value:c,onChange:function(e){return a(e.target.value)}})]}),Object(O.jsxs)(k.a,{id:"password",children:[Object(O.jsx)(P.a,{children:"Password"}),Object(O.jsx)(z.a,{name:"password",type:"password",autoComplete:"password",required:!0,value:u,onChange:function(e){return b(e.target.value)}})]}),Object(O.jsx)(W.a,{isLoading:x,type:"submit",colorScheme:"primary",size:"lg",fontSize:"md",children:"Sign in"})]})}),Object(O.jsxs)(C.a,{justifyContent:"space-between",my:4,children:[Object(O.jsx)(W.a,{variant:"link",children:Object(O.jsx)(i.b,{to:"/forgot-password",children:"Forgot password?"})}),Object(O.jsx)(W.a,{variant:"link",onClick:function(){return e.push("/register")},children:"Register"})]}),Object(O.jsx)(q,{my:6,children:"OR"}),Object(O.jsx)(W.a,{variant:"outline",isFullWidth:!0,colorScheme:"red",leftIcon:Object(O.jsx)(N.a,{}),onClick:function(){return A().then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},children:"Sign in with Google"})]})]})}function te(){return Object(O.jsx)(K,{children:Object(O.jsx)(y.a,{children:"Not found page"})})}function ne(){var e=g().currentUser;return Object(O.jsxs)(K,{children:[Object(O.jsxs)(y.a,{children:["Profile page",Object(O.jsx)(Q.a,{colorScheme:"green",fontSize:"lg",mx:4,children:"Protected Page"})]}),Object(O.jsx)(G.a,{maxW:"container.lg",overflowX:"auto",py:4,children:Object(O.jsx)(S.a.pre,{children:JSON.stringify(e,null,2)})})]})}function re(){var e=Object(l.g)(),t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],a=n[1],o=Object(r.useState)(""),s=Object(j.a)(o,2),i=s[0],u=s[1],b=Object(r.useState)(!1),d=Object(j.a)(b,2),h=d[0],x=d[1],m=Object(w.a)(),f=g().register,I=$();return Object(O.jsxs)(K,{children:[Object(O.jsx)(y.a,{textAlign:"center",my:12,children:"Register"}),Object(O.jsxs)(D,{maxW:"md",mx:"auto",mt:4,children:[Object(O.jsx)(S.a.form,{onSubmit:function(){var e=Object(v.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),c&&i||m({description:"Credentails not valid",status:"error",duration:5e3,isClosable:!0}),x(!0),f(c,i).then((function(e){return console.log(e)})).catch((function(e){console.log(e.message),m({description:e.message,status:"error",duration:5e3,isClosable:!0})})).finally((function(){I.current&&x(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(O.jsxs)(C.b,{spacing:"6",children:[Object(O.jsxs)(k.a,{id:"email",children:[Object(O.jsx)(P.a,{children:"Email address"}),Object(O.jsx)(z.a,{value:c,onChange:function(e){return a(e.target.value)},name:"email",type:"email",autoComplete:"email",required:!0})]}),Object(O.jsxs)(k.a,{id:"password",children:[Object(O.jsx)(P.a,{children:"Password"}),Object(O.jsx)(z.a,{value:i,onChange:function(e){return u(e.target.value)},name:"password",type:"password",autoComplete:"password",required:!0})]}),Object(O.jsx)(W.a,{isLoading:h,type:"submit",colorScheme:"primary",size:"lg",fontSize:"md",children:"Sign up"})]})}),Object(O.jsx)(R.a,{my:4,children:Object(O.jsx)(W.a,{variant:"link",onClick:function(){return e.push("/login")},children:"Login"})}),Object(O.jsx)(q,{my:6,children:"OR"}),Object(O.jsx)(W.a,{variant:"outline",isFullWidth:!0,colorScheme:"red",leftIcon:Object(O.jsx)(N.a,{}),onClick:function(){return alert("sign in with google")},children:"Sign in with Google"})]})]})}function ce(){var e=g().resetPassword,t=Object(l.g)(),n=(Object(l.h)(),new URLSearchParams(Object(l.h)().search));console.log(n.get("mode")),console.log(n.get("oobCode")),console.log(n.get("continueUrl"));var c=Object(w.a)(),a=Object(r.useState)(),o=Object(j.a)(a,2),s=o[0],i=o[1];return Object(O.jsxs)(K,{children:[Object(O.jsx)(y.a,{textAlign:"center",my:12,children:"Reset password"}),Object(O.jsx)(D,{maxW:"md",mx:"auto",mt:4,children:Object(O.jsx)(S.a.form,{onSubmit:function(){var r=Object(v.a)(p.a.mark((function r(a){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a.preventDefault(),e(n.get("oobCode"),s).then((function(e){console.log(e),c({description:"Password ha been changed, you can login now.",status:"success",duration:9e3,isClosable:!0}),t.push("/login")})).catch((function(e){console.log(e.message),c({description:e.message,status:"error",duration:9e3,isClosable:!0})}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),children:Object(O.jsxs)(C.b,{spacing:"6",children:[Object(O.jsxs)(k.a,{id:"password",children:[Object(O.jsx)(P.a,{children:"New password"}),Object(O.jsx)(z.a,{value:s,onChange:function(e){return i(e.target.value)},type:"password",autoComplete:"password",required:!0})]}),Object(O.jsx)(W.a,{type:"submit",colorScheme:"primary",size:"lg",fontSize:"md",children:"Reset password"})]})})})]})}function ae(e){return Object(O.jsx)(i.a,{basename:"react-firebase-auth-6fbdf.firebaseapp.com",children:Object(O.jsx)(i.a,{children:Object(O.jsxs)(l.d,{children:[Object(O.jsx)(l.b,{exact:!0,path:"/",component:Z}),Object(O.jsx)(oe,{exact:!0,path:"/login",component:ee}),Object(O.jsx)(oe,{exact:!0,path:"/register",component:re}),Object(O.jsx)(oe,{exact:!0,path:"/profile",component:ne}),Object(O.jsx)(oe,{exact:!0,path:"/forgot-password",component:X}),Object(O.jsx)(oe,{exact:!0,path:"/reset-password",component:ce}),Object(O.jsx)(l.b,{exact:!0,path:"*",component:te})]})})})}function oe(e){var t=g().currentUser,n=e.path;console.log("path",n);var r,c,a=Object(l.h)();return console.log("location state",a.state),"/login"===n||"/register"===n||"/forgot-password"===n||"/reset-password"===n?t?Object(O.jsx)(l.a,{to:null!==(r=null===(c=a.state)||void 0===c?void 0:c.from)&&void 0!==r?r:"/profile"}):Object(O.jsx)(l.b,Object(s.a)({},e)):t?Object(O.jsx)(l.b,Object(s.a)({},e)):Object(O.jsx)(l.a,{to:{pathname:"/login",state:{from:n}}})}var se=function(){return Object(O.jsx)(m,{children:Object(O.jsx)(ae,{})})},ie=n(574),le=n(88),je=n(577),ue=n(575),be=Object(ie.a)({config:{initialColorMode:"light",useSystemColorMode:!1},colors:{primary:le.theme.colors.purple}});o.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsxs)(je.a,{theme:be,children:[Object(O.jsx)(ue.a,{initialColorMode:be.config.initialColorMode}),Object(O.jsx)(se,{})]})}),document.getElementById("root"))}},[[545,1,2]]]);
//# sourceMappingURL=main.0d3bf9c1.chunk.js.map